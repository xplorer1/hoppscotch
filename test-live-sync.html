<!DOCTYPE html>
<html>
<head>
    <title>Live Sync Test</title>
    <script type="module">
        // Simple test to verify your backend serves OpenAPI specs
        async function testLiveSync() {
            const backendUrl = prompt('Enter your backend URL (e.g., http://localhost:8000)');
            
            const endpoints = [
                '/openapi.json',
                '/docs/openapi.json', 
                '/api-docs',
                '/swagger.json',
                '/v3/api-docs'
            ];
            
            console.log('Testing endpoints for:', backendUrl);
            
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(backendUrl + endpoint);
                    if (response.ok) {
                        const spec = await response.json();
                        console.log(`‚úÖ Found OpenAPI spec at ${endpoint}:`, spec);
                        
                        // Test framework detection logic
                        if (spec.info?.title?.toLowerCase().includes('fastapi')) {
                            console.log('üêç Detected: FastAPI');
                        } else if (spec.swagger) {
                            console.log('üìÑ Detected: Swagger 2.0');
                        } else if (spec.openapi) {
                            console.log('üìã Detected: OpenAPI 3.x');
                        }
                        
                        return;
                    }
                } catch (error) {
                    console.log(`‚ùå ${endpoint}: ${error.message}`);
                }
            }
            
            console.log('‚ùå No OpenAPI spec found. Your backend needs to serve OpenAPI documentation.');
        }
        
        // Run test when page loads
        window.addEventListener('load', testLiveSync);
    </script>
</head>
<body>
    <h1>Live Sync Backend Test</h1>
    <p>Check the browser console for results.</p>
    <p>This will test if your backend serves OpenAPI specifications at common endpoints.</p>
</body>
</html>